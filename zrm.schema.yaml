# Rime schema
# encoding: utf-8
# æ–¹æ¡ˆè¯´æ˜
schema:
  schema_id: zrm
  name: è‡ªç„¶ç (è¾…)
  version: "1"
  author:
    - amzxyz
  description: |
    è‡ªç„¶ç åŒæ‹¼
  dependencies:
    - melt_eng        # è‹±æ–‡è¾“å…¥ï¼Œä½œä¸ºæ¬¡ç¿»è¯‘å™¨æŒ‚è½½åˆ°æ‹¼éŸ³æ–¹æ¡ˆ
    - radical_pinyin  # éƒ¨ä»¶æ‹†å­—ï¼ŒåæŸ¥åŠè¾…ç 


# å¼€å…³
# reset: é»˜è®¤çŠ¶æ€ã€‚æ³¨é‡Šæ‰åï¼Œåˆ‡æ¢çª—å£æ—¶ä¸ä¼šé‡ç½®åˆ°é»˜è®¤çŠ¶æ€ã€‚
# states: æ–¹æ¡ˆé€‰å•æ˜¾ç¤ºçš„åç§°ã€‚å¯ä»¥æ³¨é‡Šæ‰ï¼Œä»å¯ä»¥é€šè¿‡å¿«æ·é”®åˆ‡æ¢ã€‚
# abbrev: é»˜è®¤çš„ç¼©å†™å– states çš„ç¬¬ä¸€ä¸ªå­—ç¬¦ï¼Œabbrev å¯è‡ªå®šä¹‰ä¸€ä¸ªå­—ç¬¦
switches:
  - name: ascii_mode
    states: [ ä¸­, è‹± ]
  - name: ascii_punct  # ä¸­è‹±æ ‡ç‚¹
    states: [ Â¥, $ ]
  - name: traditionalization
    states: [ ç®€, ç¹ ]
  - name: full_shape
    states: [ åŠ, å…¨ ]
  - name: emoji
    states: [ ğŸ’€, ğŸ˜„ ]
    reset: 1
  - name: pinyinhint
    states: [ éŸ³, è¯» ]
  - name: fuzhu_switch
    states: [ åŠ©, è¾… ]
  - name: zrm_chaifen
    states: [ ç„¶, è‡ª ]
#  - name: prediction
#    states: [ æµ‹, é¢„ ]
#    reset: 1
  - name: search_single_char  # search.lua çš„åŠŸèƒ½å¼€å…³ï¼Œè¾…ç æŸ¥è¯æ—¶æ˜¯å¦å•å­—ä¼˜å…ˆ
    states: [è¯, å•]


# è¾“å…¥å¼•æ“
engine:
  processors:
#    - predictor     #ä¸Šå±é¢„æµ‹ç»„ä»¶
#    - lua_processor@select_character          # ä»¥è¯å®šå­—ï¼Œæœ‰äº†è¾…åŠ©ç äº†ï¼Œæƒ³å¼€å¯å¯ä»¥æ³¨é‡Šæ‰
    - lua_processor@*cold_word_drop.processor
    - ascii_composer
    - recognizer
    - key_binder
    - lua_processor@*key_binder # ç»‘å®šæŒ‰é”®æ‰©å±•èƒ½åŠ›
    - speller
    - punctuator
    - selector
    - navigator
    - express_editor
  segmentors:
    - ascii_segmentor
    - matcher
    - abc_segmentor
    - affix_segmentor@radical_lookup  # éƒ¨ä»¶æ‹†å­—è‡ªå®šä¹‰ tag
    - punct_segmentor
    - fallback_segmentor
  translators:
    - punct_translator
    - script_translator
    - lua_translator@*date_translator    # æ—¶é—´ã€æ—¥æœŸã€æ˜ŸæœŸ
    - lua_translator@*lunar              # å†œå†
    - lua_translator@*unicode            # Unicode
    - lua_translator@*number_translator  # æ•°å­—ã€é‡‘é¢å¤§å†™
    - lua_translator@*calculator        # è®¡ç®—å™¨
    - table_translator@custom_phrase    # è‡ªå®šä¹‰çŸ­è¯­ custom_phrase.txt
    - table_translator@melt_eng         # è‹±æ–‡è¾“å…¥
    - table_translator@cn_en            # ä¸­è‹±æ··åˆè¯æ±‡
    - table_translator@chengyu            # ç®€ç æˆè¯­
    - table_translator@radical_lookup   # éƒ¨ä»¶æ‹†å­—åæŸ¥
    - lua_translator@*force_gc          # æš´åŠ› GC é™ä½å†…å­˜
  filters:
    - lua_filter@*cold_word_drop.filter
    - lua_filter@*long_word_filter                  #é•¿è¯ä¼˜å…ˆ      
    - lua_filter@*autocap_filter                    # è‹±æ–‡è‡ªåŠ¨å¤§å†™
    - lua_filter@*pin_cand_filter                   # ç½®é¡¶å€™é€‰é¡¹ï¼ˆé¡ºåºè¦æ±‚ï¼šç½®é¡¶å€™é€‰é¡¹ > Emoji > ç®€ç¹åˆ‡æ¢ï¼‰
    - lua_filter@*reduce_english_filter             # é™ä½éƒ¨åˆ†è‹±è¯­å•è¯åœ¨å€™é€‰é¡¹çš„ä½ç½®
    - reverse_lookup_filter@radical_reverse_lookup  # éƒ¨ä»¶æ‹†å­—æ»¤é•œï¼Œæ”¾åœ¨pro_comment_formatå‰é¢ï¼Œè¿›ä¸€æ­¥è¢«è¶…çº§æ³¨é‡Šå¤„ç†ä»¥è·å¾—æ‹¼éŸ³ç¼–ç +è¾…åŠ©ç çš„æç¤º
    - simplifier@emoji                              # Emoji
    - simplifier@traditionalize                     # ç®€ç¹åˆ‡æ¢
    - simplifier@mars                               #ç«æ˜Ÿæ–‡
    - simplifier@chinese_english                    #ä¸­è‹±ç¿»è¯‘
    - simplifier@moqi_chaifen                      #å¢¨å¥‡æ‹†åˆ†å‹è¾…åŠ©ç æŸ¥è¯¢
    - simplifier@zrm_chaifen                        #è‡ªç„¶ç æ‹†åˆ†å‹è¾…åŠ©ç æŸ¥è¯¢
    - simplifier@pinyinhint                         #æ³¨é‡Šé‡Œæ˜¾ç¤ºæ±‰å­—è¯»éŸ³ï¼Œå¤šéŸ³å­—æ”¯æŒ
    - lua_filter@*search@radical_pinyin             # éƒ¨ä»¶æ‹†å­—è¾…ç æ”¾åœ¨ç®€ç¹è½¬æ¢ä¹‹å
#    - lua_filter@*is_in_user_dict                  # æ ¹æ®æ˜¯å¦åœ¨ç”¨æˆ·è¯å…¸ï¼Œåœ¨ç»“å°¾åŠ ä¸Šä¸€ä¸ªæ˜Ÿå· *
#    - lua_filter@*cn_en_spacer                     #å¯ç”¨æ—¶ä¸­è‹±æ··è¾“ä¸ºä¸­è‹±æ··è¾“è¯æ¡ï¼ˆcn_en.dict.yamlï¼‰è‡ªåŠ¨å¢åŠ ç©ºæ ¼ï¼Œç¤ºä¾‹ï¼š`VIPä¸­P` â†’ `VIP ä¸­ P`              
#    - lua_filter@*en_spacer                        #å¯ç”¨æ—¶ä¸­æ–‡çŠ¶æ€ä¸‹è¾“å…¥è‹±æ–‡å•è¯åé¢è‡ªåŠ¨è¿½åŠ ç©ºæ ¼
    - lua_filter@*pro_comment_format                #è¶…çº§æ³¨é‡Šæ¨¡å—ï¼Œæ”¯æŒé”™è¯æç¤ºã€è¾…åŠ©ç æ˜¾ç¤ºï¼Œéƒ¨ä»¶ç»„å­—è¯»éŸ³æ³¨é‡Šï¼Œæ”¯æŒä¸ªæ€§åŒ–é…ç½®å’Œå…³é—­ç›¸åº”çš„åŠŸèƒ½ï¼Œè¯¦æƒ…æœç´¢pro_comment_formatè¿›è¡Œè¯¦ç»†é…ç½®
    - uniquifier                                    # å»é‡



# Lua é…ç½®: æ—¥æœŸã€æ—¶é—´ã€æ˜ŸæœŸã€ISO 8601ã€æ—¶é—´æˆ³çš„è§¦å‘å…³é”®å­—
date_translator:
  date: date            # æ—¥æœŸï¼š 2022-11-29
  time: time            # æ—¶é—´ï¼š 18:13
  week: week            # æ˜ŸæœŸï¼š æ˜ŸæœŸäºŒ
  datetime: datetime    # ISO 8601ï¼š 2022-11-29T18:13:11+08:00
  timestamp: timestamp  # æ—¶é—´æˆ³ï¼š 1669716794

# Lua é…ç½®ï¼šå†œå†çš„è§¦å‘å…³é”®å­—
lunar: lunar  # å†œå†ï¼š äºŒã€‡äºŒä¸‰å¹´å†¬æœˆäºŒå ç™¸å¯å¹´ï¼ˆå…”ï¼‰å†¬æœˆäºŒå

# Lua é…ç½®ï¼šè®¡ç®—å™¨è§¦å‘å…³é”®å­—
calculator:
  trigger: "V"

# Lua é…ç½®: ç½®é¡¶å€™é€‰é¡¹
# æ³¨é‡Šå¤ªé•¿äº†ï¼Œè¯·å‚è€ƒ pin_cand_filter.lua å¼€å¤´çš„è¯´æ˜ä¹¦ã€‚
pin_cand_filter:
  # æ ¼å¼ï¼šç¼–ç <Tab>å­—è¯1<Space>å­—è¯2â€¦â€¦
  - d	çš„

#Lua é…ç½®:é•¿è¯ä¼˜å…ˆ
long_word_filter:
  count: 4
  idx: 3

# Lua é…ç½®: é™ä½éƒ¨åˆ†è‹±è¯­å•è¯åœ¨å€™é€‰é¡¹çš„ä½ç½®ã€‚
# è¯¦ç»†ä»‹ç» https://dvel.me/posts/make-rime-en-better/#çŸ­å•è¯ç½®é¡¶çš„é—®é¢˜
# æ­£å¸¸æƒ…å†µï¼š è¾“å…¥ rug å¾—åˆ° ã€Œ1.rug 2.å¦‚æœ â€¦â€¦ ã€
# é™ä½ä¹‹åï¼š è¾“å…¥ rug å¾—åˆ° ã€Œ1.å¦‚æœ 2.rug â€¦â€¦ ã€
# å‡ ç§æ¨¡å¼ï¼š
# all     é™ä½è„šæœ¬å†…ç½®çš„å•è¯ï¼ˆæ‰€æœ‰ 3~4 ä½é•¿åº¦ã€å‰ 2~3 ä½æ˜¯å®Œæ•´æ‹¼éŸ³ã€æœ€åä¸€ä½æ˜¯å£°æ¯ï¼‰ï¼Œwords ä½œä¸ºè‡ªå®šä¹‰çš„é¢å¤–è¡¥å……
# custom  å®Œå…¨è‡ªå®šä¹‰ï¼Œåªé™ä½ words é‡Œçš„
# none    ä¸é™ä½ä»»ä½•å•è¯ï¼Œç›¸å½“äºæ²¡æœ‰å¯ç”¨è¿™ä¸ª Lua
# ï¼ˆåŒ¹é…çš„æ˜¯ç¼–ç ï¼Œä¸æ˜¯å•è¯ï¼‰
reduce_english_filter:
  mode: custom  # all | custom | none
  idx: 2        # é™ä½åˆ°ç¬¬ idx ä¸ªä½ç½®
  # è‡ªå®šä¹‰çš„å•è¯åˆ—è¡¨ï¼Œç¤ºä¾‹åˆ—è¡¨æ²¡æœ‰é™ä½éƒ¨åˆ†å¸¸ç”¨å•è¯ï¼Œå¦‚ and cat mail Mac but bad shit â€¦â€¦
  words: [
    aid, ann,
    bail, bait, bam, band, bans, bat, bay, bend, bent, benz, bib, bid, bien, biz, boc, bop, bos, bud, buf, bach, bench, bush,
    cab, cad, cain, cam, cans, cap, cas, cef, chad, chan, chap, chef, cher, chew, chic, chin, chip, chit, coup, cum, cunt, cur, couch,
    dab, dag, dal, dam, dent, dew, dial, diet, dim, din, dip, dis, dit, doug, dub, dug, dunn,
    fab, fax, fob, fog, foul, fur,
    gag, gail, gain, gal, gam, gaol, ged, gel, ger, guam, gus, gut,
    hail, ham, hank, hans, hat, hay, heil, heir, hem, hep, hud, hum, hung, hunk, hut, hush,
    jim, jug,
    kat,
    lab, lad, lag, laid, lam, laos, lap, lat, lax, lay, led, leg, lex, liam, lib, lid, lied, lien, lies, linn, lip, lit, liz, lob, lug, lund, lung, lux, lash, loch, lush,
    mag, maid, mann, mar, mat, med, mel, mend, mens, ment, mil, mins, mint, mob, moc, mop, mos, mot, mud, mug, mum, mesh,
    nap, nat, nay, neil, nib, nip, noun, nous, nun, nut, nail, nash,
    pac, paid, pail, pain, pair, pak, pal, pam, pans, pant, pap, par, pat, paw, pax, pens, pic, pier, pies, pins, pint, pit, pix, pod, pop, pos, pot, pour, pow, pub, pinch, pouch,
    rand, rant, rent, rep, res, ret, rex, rib, rid, rig, rim, rub, rug, rum, runc, runs, ranch,
    sac, sail, sal, sam, sans, sap, saw, sax, sew, sham, shaw, shin, sig, sin, sip, sis, suit, sung, suns, sup, sur, sus,
    tad, tail, taj, tar, tax, tec, ted, tel, ter, tex, tic, tied, tier, ties, tim, tin, tit, tour, tout, tum,
    wag, wand, womens, wap, wax, weir, won,
    yan, yen,
    zach
  ]


# ä¸»ç¿»è¯‘å™¨ï¼Œæ‹¼éŸ³
translator:
  dictionary: zrm          # æŒ‚è½½è¯åº“ zrm.dict.yaml
#  prism: double_pinyin          # å¤šæ–¹æ¡ˆå…±ç”¨ä¸€ä¸ªè¯åº“æ—¶ï¼Œä¸ºé¿å…å†²çªï¼Œéœ€è¦ç”¨ prism æŒ‡å®šä¸€ä¸ªåå­—ã€‚
  contextual_suggestions: true   #ä¸Šä¸‹æ–‡å»ºè®®å¼€å¯ã€”éœ€é…åˆ grammar ä½¿ç”¨ã€•
  max_homophones: 4 # æœ€å¤§åŒéŸ³ç°‡é•¿åº¦ã€”éœ€é…åˆ grammar ä½¿ç”¨ã€•
  max_homographs: 2 # æœ€å¤§åŒå½¢ç°‡é•¿åº¦ã€”éœ€é…åˆ grammar ä½¿ç”¨ã€•
  dynamic_model: true  # å¯ç”¨åŠ¨æ€è¯­è¨€æ¨¡å‹
  segment_length: 4  # è®¾ç½®åˆ†è¯é•¿åº¦
  prioritize_quality: true  # å¯ç”¨ä¼˜å…ˆè´¨é‡é€‰é¡¹
  max_phrase_length: 7  # è®¾ç½®çŸ­è¯­çš„æœ€å¤§é•¿åº¦ï¼Œå¦‚æœä¸»è¦è¾“å…¥å•è¯æˆ–çŸ­çŸ­çš„çŸ­è¯­ï¼Œå¯ä»¥è®¾ç½®ä¸º4ã€‚å¥å­æ›´é•¿ä¸€äº›
  enable_completion: true  # å¯ç”¨å€™é€‰è¯è¡¥å…¨
  max_candidates: 10  # è®¾ç½®æœ€å¤§å€™é€‰è¯æ•°é‡
#  punctuation_model: default  # è®¾ç½®æ ‡ç‚¹ç¬¦å·æ¨¡å‹
#  single_char_first: true  # ä¼˜å…ˆæ˜¾ç¤ºå•ä¸ªå­—ç¬¦
#  candidate_filter: "^(?!abc).*$"  # è¿‡æ»¤æ‰åŒ…å« "abc" çš„å€™é€‰è¯
#  user_dict: zrm.userdb  # ç”¨æˆ·è¯å…¸çš„æ–‡ä»¶åç§°
#  db_class: tabledb  #å¼€å¯åå°±ä¸ä¼šäº§ç”Ÿzrm.userdbè¿™æ ·çš„æ–‡ä»¶å¤¹ï¼Œä¼šç›´æ¥è¾“å‡ºæ–‡æœ¬zrm.txtåŒæ—¶æ— æ³•ä½¿ç”¨åŒæ­¥èƒ½åŠ›
  enable_user_dict: true # æ˜¯å¦å¼€å¯è‡ªåŠ¨è°ƒé¢‘
  enable_correction: false #æ˜¯å¦å¼€å¯è‡ªåŠ¨çº é”™
  encode_commit_history: true   # é¢„ç•™å†å²ä¸Šå±è‡ªåŠ¨ç¼–ç æˆè¯
  initial_quality: 3       # åˆå§‹è´¨é‡æ‹¼éŸ³çš„æƒé‡åº”è¯¥æ¯”è‹±æ–‡å¤§
#  secondary_quality: 0.8  # è®¾ç½®æ¬¡è¦è´¨é‡
  spelling_hints: 10             # å°†æ³¨é‡Šä»¥è¯å…¸å­—ç¬¦ä¸²å½¢å¼å®Œå…¨æš´éœ²ï¼Œé€šè¿‡pro_comment_format.luaå®Œå…¨æ¥ç®¡ï¼Œçµæ´»é…ç½®ã€‚
  always_show_comments: true    # Rime é»˜è®¤åœ¨ preedit ç­‰äº comment æ—¶å–æ¶ˆæ˜¾ç¤º commentï¼Œè¿™é‡Œå¼ºåˆ¶ä¸€ç›´æ˜¾ç¤ºï¼Œä¾›pro_comment_format.luaåšåˆ¤æ–­ç”¨ã€‚
  comment_format: {comment}  #å°†æ³¨é‡Šä»¥è¯å…¸å­—ç¬¦ä¸²å½¢å¼å®Œå…¨æš´éœ²ï¼Œé€šè¿‡pro_comment_format.luaå®Œå…¨æ¥ç®¡ï¼Œçµæ´»é…ç½®ã€‚
  preedit_format:               # preedit_format å½±å“åˆ°è¾“å…¥æ¡†çš„æ˜¾ç¤ºå’Œâ€œShift+å›è½¦â€ä¸Šå±çš„å­—ç¬¦


# è‡ªå®šä¹‰çŸ­è¯­
custom_phrase:
  dictionary: ""
  user_dict: custom_phrase  # éœ€è¦æ‰‹åŠ¨åˆ›å»º custom_phrase.txt æ–‡ä»¶
  db_class: stabledb
  enable_completion: false # è¡¥å…¨æç¤º
  enable_sentence: false   # ç¦æ­¢é€ å¥
  initial_quality: 99      # custom_phrase çš„æƒé‡åº”è¯¥æ¯” pinyin å’Œ melt_eng å¤§

# ç®€ç è¯åº“å¯¼å…¥ä½äºjm_dictså¾—txtæ–‡ä»¶è¯åº“
chengyu:
  dictionary: ""
  user_dict: jm_dicts/chengyu
  db_class: stabledb
  enable_sentence: false
  enable_completion: false
  initial_quality: 1.2 #æœ¬è¡¨è¯å’Œç³»ç»Ÿè¯é‡ç å±…å


# æ¬¡ç¿»è¯‘å™¨ï¼Œè‹±æ–‡
melt_eng:
  dictionary: melt_eng     # æŒ‚è½½è¯åº“ melt_eng.dict.yaml
  enable_sentence: false   # ç¦æ­¢é€ å¥
  enable_user_dict: false  # ç¦ç”¨ç”¨æˆ·è¯å…¸ï¼Œæ˜¯å¦å¼€å¯è‡ªåŠ¨è°ƒé¢‘
  initial_quality: 1.1     # åˆå§‹æƒé‡
  comment_format:          # è‡ªå®šä¹‰æç¤ºç 
    - xform/.*//           # æ¸…ç©ºæç¤ºç 


# ä¸­è‹±æ··åˆè¯æ±‡
cn_en:
  dictionary: ""
  user_dict: en_dicts/cn_en_double_pinyin
  db_class: stabledb
  enable_completion: true
  enable_sentence: false
  initial_quality: 0.5
  comment_format:
    - xform/^.+$//

# Emoji
emoji:
  option_name: emoji
  opencc_config: emoji.json
  inherit_comment: false  # åœ¨ corrector.lua åŠåæŸ¥ä¸­ï¼Œemoji è¿”å›ç©ºæ³¨é‡Š

# ç«æ˜Ÿæ–‡åˆ‡æ¢
mars:
  opencc_config: martian.json 
  option_name: mars

#ä¸­æ–‡è½¬è‹±æ–‡
chinese_english:
  option_name: chinese_english
  opencc_config: chinese_english.json
  tips: char
  comment_format:
    - "xform/-/ /"

#æ˜¾ç¤ºè‡ªç„¶ç æ‹†åˆ†
zrm_chaifen:
  option_name: zrm_chaifen
  opencc_config: zrm_chaifen.json
  tips: char
  show_in_comment: true
  comment_format:
    - "xform/	/ /"
#æ˜¾ç¤ºæ±‰å­—è¯»éŸ³ï¼Œæ”¯æŒå¤šéŸ³å­—
pinyinhint:
  option_name: pinyinhint
  opencc_config: pinyinhint.json
  tips: char
  show_in_comment: true

# ç®€ç¹åˆ‡æ¢
traditionalize:
  option_name: traditionalization
  opencc_config: s2t.json  # s2t.json | s2hk.json | s2tw.json | s2twp.json
  tips: none               # è½¬æ¢æç¤º: all éƒ½æ˜¾ç¤º | char ä»…å•å­—æ˜¾ç¤º | none ä¸æ˜¾ç¤ºã€‚
  tags: [ abc, number, gregorian_to_lunar ]  # é™åˆ¶åœ¨å¯¹åº” tagï¼Œä¸å¯¹å…¶ä»–å¦‚åæŸ¥çš„å†…å®¹åšç®€ç¹è½¬æ¢


# æ ‡ç‚¹ç¬¦å·
# punctuator ä¸‹é¢æœ‰ä¸‰ä¸ªå­é¡¹ï¼š
#   full_shape å…¨è§’æ ‡ç‚¹æ˜ å°„
#   half_shape åŠè§’æ ‡ç‚¹æ˜ å°„
#   symbols    Rime çš„é¢„è®¾é…ç½®æ˜¯ä»¥ '/' å‰ç¼€å¼€å¤´è¾“å‡ºä¸€ç³»åˆ—å­—ç¬¦ï¼Œè‡ªå®šä¹‰çš„ symbols_v.yaml ä¿®æ”¹æˆäº† 'V' å¼€å¤´ã€‚
punctuator:
  full_shape:
    __include: default:/punctuator/full_shape  # ä» default.yaml å¯¼å…¥é…ç½®
  half_shape:
    __include: default:/punctuator/half_shape  # ä» default.yaml å¯¼å…¥é…ç½®
  symbols:
    __include: symbols:/symbols         # ä» symbols_v.yaml å¯¼å…¥é…ç½®


# éƒ¨ä»¶æ‹†å­—åæŸ¥
radical_lookup:
  tag: radical_lookup
  dictionary: radical_pinyin
  enable_user_dict: false
  prefix: "az"  # åæŸ¥å‰ç¼€ï¼ˆåæŸ¥æ—¶å‰ç¼€ä¼šæ¶ˆå¤±å½±å“æ‰“è‹±æ–‡æ‰€ä»¥è®¾å®šä¸ºä¸¤ä¸ªå­—æ¯ï¼Œæˆ–å¯æ”¹æˆä¸€ä¸ªéå­—æ¯ç¬¦å·ï¼‰ï¼Œä¸ recognizer/patterns/radical_lookup åŒ¹é…
  tips: "  ã€”éƒ¨ä»¶ç»„å­—ã€•"
  comment_format: #{comment}
    - erase/^.*$//
# éƒ¨ä»¶æ‹†å­—æ»¤é•œ
radical_reverse_lookup:
  tags: [ radical_lookup ]
  # dictionary ä¸ºæ‹¼éŸ³æ ‡æ³¨æ¥æºã€‚ç›®å‰æ˜¯æ˜¾ç¤ºæœ¬æ–¹æ¡ˆè¯åº“çš„æ³¨éŸ³ï¼Œå¯å»éƒ¨ä»¶æ‹†å­—æ–¹æ¡ˆä¸‹è½½æ›´å…¨çš„ã€å¸¦å£°è°ƒçš„ã€å·²ç¼–è¯‘å¥½çš„è¯å…¸
  # https://github.com/mirtlecn/rime-radical-pinyin?tab=readme-ov-file#%E5%8F%8D%E6%9F%A5%E5%B8%A6%E5%A3%B0%E8%B0%83%E6%B3%A8%E9%9F%B3
  dictionary: zrm


# å¤„ç†ç¬¦åˆç‰¹å®šè§„åˆ™çš„è¾“å…¥ç ï¼Œå¦‚ç½‘å€ã€åæŸ¥
recognizer:
  import_preset: default  # ä» default.yaml ç»§æ‰¿é€šç”¨çš„
  patterns:  # å†å¢åŠ æ–¹æ¡ˆä¸“æœ‰çš„ï¼š
    punct: "^/([0-9]|10|[A-Za-z]+)$"    # å“åº” symbols.yaml çš„ symbols
    radical_lookup: "^az[a-z]+$"        # å“åº”éƒ¨ä»¶æ‹†å­—çš„åæŸ¥ï¼Œä¸ radical_lookup/prefix åŒ¹é…
    unicode: "^U[a-f0-9]+"              # è„šæœ¬å°†è‡ªåŠ¨è·å–ç¬¬ 2 ä¸ªå­—ç¬¦ U ä½œä¸ºè§¦å‘å‰ç¼€ï¼Œå“åº” lua_translator@unicodeï¼Œè¾“å‡º Unicode å­—ç¬¦
    number: "^R[0-9]+[.]?[0-9]*"        # è„šæœ¬å°†è‡ªåŠ¨è·å–ç¬¬ 2 ä¸ªå­—ç¬¦ R ä½œä¸ºè§¦å‘å‰ç¼€ï¼Œå“åº” lua_translator@number_translatorï¼Œæ•°å­—é‡‘é¢å¤§å†™
    gregorian_to_lunar: "^N[0-9]{1,8}"  # è„šæœ¬å°†è‡ªåŠ¨è·å–ç¬¬ 2 ä¸ªå­—ç¬¦ N ä½œä¸ºè§¦å‘å‰ç¼€ï¼Œå“åº” lua_translator@lunarï¼Œå…¬å†è½¬å†œå†ï¼Œè¾“å…¥ N20240115 å¾—åˆ°ã€ŒäºŒã€‡äºŒä¸‰å¹´è…Šæœˆåˆäº”ã€
    calculator: "^V.*$"                 #è®¡ç®—å™¨åŠŸèƒ½å¼•å¯¼

# ä» default ç»§æ‰¿å¿«æ·é”®
key_binder:
  import_preset: default  # ä» default.yaml ç»§æ‰¿é€šç”¨çš„
  search: "`"             # è¾…ç å¼•å¯¼ç¬¦ï¼Œè¦æ·»åŠ åˆ° speller/alphabet
  bindings:             # ä¹Ÿå¯ä»¥å†å¢åŠ æ–¹æ¡ˆä¸“æœ‰çš„
#- { when: composing, accept: Tab, send: '[' } ## å–æ¶ˆæ³¨é‡Šåï¼štabå¼•å¯¼è¾…åŠ©ç 
    - { when: composing, accept: Control+w, send: Control+BackSpace }
#åˆ†å·ç”¨äºæ¬¡é€‰
    - { when: has_menu, accept: semicolon, send: 2 }
#ä½¿ç”¨Control+eè¿›å…¥ç¿»è¯‘æ¨¡å¼
    - { when: has_menu, accept: "Control+e", toggle: chinese_english}
    - { when: has_menu, accept: "Control+z", toggle: zrm_chaifen }
#ä½¿ç”¨å¿«æ·é”®Control+qå¼€å¯å’Œå…³é—­è¾…åŠ©ç æ˜¾ç¤º
    - { when: has_menu, accept: "Control+q", toggle: fuzhu_switch }
# ä½¿ç”¨ tab åœ¨ä¸åŒéŸ³èŠ‚ä¹‹é—´è·³è½¬
    - { when: has_menu, accept: "Tab", send: "Control+Right" }
    - { when: composing, accept: "Tab", send: "Control+Right" }
#é€šè¿‡stick.luaæ˜¾ç¤ºåˆ°æ³¨é‡Šé‡Œï¼Œç”¨æ¥ä¸Šå±å¸¦/çš„ç®€ç è¯æ±‡ã€‚æœ€å¥½æ˜¯ç”¨å¥å·ï¼Œè¿™æ ·å¯ä»¥ä¸æ‰‹æœºä¸Šå¯ä»¥åšåŒæ ·çš„å®šä¹‰ï¼Œä¿æŒåŒæ ·çš„ä¹ æƒ¯
#    - { match: "[a-z]{1,3}", accept: ".",  send_sequence: "/1" } 



# æ‹¼å†™è®¾å®š
speller:
# table_translatorç¿»è¯‘å™¨ï¼Œæ”¯æŒè‡ªåŠ¨ä¸Šå±ã€‚ä¾‹å¦‚ â€œzmhuâ€å¯ä»¥è‡ªåŠ¨ä¸Šå±â€œæ€ä¹ˆå›äº‹â€
#  auto_select: true
#  auto_select_pattern: ^[a-z]+/|^[a-df-zA-DF-Z]\w{3}|^e\w{4}
  # å¦‚æœä¸æƒ³è®©ä»€ä¹ˆæ ‡ç‚¹ç›´æ¥ä¸Šå±ï¼Œå¯ä»¥åŠ åœ¨ alphabetï¼Œæˆ–è€…ç¼–è¾‘æ ‡ç‚¹ç¬¦å·ä¸ºä¸¤ä¸ªåŠä»¥ä¸Šçš„æ˜ å°„
  alphabet: zyxwvutsrqponmlkjihgfedcbaZYXWVUTSRQPONMLKJIHGFEDCBA`/
  # initials å®šä¹‰ä»…ä½œä¸ºå§‹ç çš„æŒ‰é”®ï¼Œæ’é™¤ ` è®©å•ä¸ªçš„ ` å¯ä»¥ç›´æ¥ä¸Šå±
  initials: zyxwvutsrqponmlkjihgfedcbaZYXWVUTSRQPONMLKJIHGFEDCBA
  delimiter: " '"  # ç¬¬ä¸€ä½<ç©ºæ ¼>æ˜¯æ‹¼éŸ³ä¹‹é—´çš„åˆ†éš”ç¬¦ï¼›ç¬¬äºŒä½<'>è¡¨ç¤ºå¯ä»¥æ‰‹åŠ¨è¾“å…¥å•å¼•å·æ¥åˆ†å‰²æ‹¼éŸ³ã€‚
  algebra:
    - derive/^([jqxy])u(;.*)$/$1v$2/
    - derive/^([aoe])([ioun])(;.*)$/$1$1$2$3/
    - xform/^([aoe])(ng)?(;.*)$/$1$1$2$3/
    - xform/^(\w+?)iu(;.*)$/$1â“†$2/
    - xform/^(\w+?)[uv]an(;.*)$/$1â“‡$2/
    - xform/^(\w+?)[uv]e(;.*)$/$1â“‰$2/
    - xform/^(\w+?)ing(;.*)$/$1â“$2/
    - xform/^(\w+?)uai(;.*)$/$1â“$2/
    - xform/^(\w+?)uo(;.*)$/$1â“„$2/
    - xform/^(\w+?)[uv]n(;.*)$/$1â“…$2/
    - xform/^(\w+?)i?ong(;.*)$/$1â“ˆ$2/
    - xform/^(\w+?)[iu]ang(;.*)$/$1â’¹$2/
    - xform/^(\w+?)en(;.*)$/$1â’»$2/
    - xform/^(\w+?)eng(;.*)$/$1â’¼$2/
    - xform/^(\w+?)ang(;.*)$/$1â’½$2/
    - xform/^(\w+?)ian(;.*)$/$1â“‚$2/
    - xform/^(\w+?)an(;.*)$/$1â’¿$2/
    - xform/^(\w+?)iao(;.*)$/$1â’¸$2/
    - xform/^(\w+?)ao(;.*)$/$1â“€$2/
    - xform/^(\w+?)ai(;.*)$/$1â“$2/
    - xform/^(\w+?)ei(;.*)$/$1â“$2/
    - xform/^(\w+?)ie(;.*)$/$1â“$2/
    - xform/^(\w+?)ui(;.*)$/$1â“‹$2/
    - xform/^(\w+?)ou(;.*)$/$1â’·$2/
    - xform/^(\w+?)in(;.*)$/$1â“ƒ$2/
    - xform/^(\w+?)[iu]a(;.*)$/$1â“Œ$2/
    - xform/^sh/â“Š/
    - xform/^ch/â’¾/
    - xform/^zh/â“‹/
    - xlit/â“†â“Œâ“‡â“‰â“â“Šâ’¾â“„â“…â“ˆâ’¹â’»â’¼â’½â“‚â’¿â’¸â“€â“â“â“â“‹â’·â“ƒ/qwrtyuiopsdfghmjcklzxvbn/
# æ¨¡ç³ŠéŸ³ å¯é€‰æ‹©æ€§å¼€å¯
    # - derive/^z([a-z])/v$1/
    # - derive/^c([a-z])/i$1/
    # - derive/^s([a-z])/u$1/
    # - derive/^v([a-z])/z$1/
    # - derive/^i([a-z])/c$1/
    # - derive/^u([a-z])/s$1/
#ä»¥ä¸‹æ˜¯åŒæ‹¼è¿ç®—
    - derive/^(.+);.*$/$1/ # çº¯åŒæ‹¼çš„æƒ…å†µ
#åˆ†å·åé¢ç¬¬ä¸€ç»„è¾…åŠ©ç 
    - derive/^(.+);(\w)(\w).*$/$1$2/ # åŒæ‹¼+ä¸€ä½è¾…åŠ©ç çš„æƒ…å†µ
    - derive/^(.+);(\w)(\w).*$/$1[$2/ # åŒæ‹¼+[ä¸€ä½è¾…åŠ©ç çš„æƒ…å†µ
    - abbrev/^(.+);(\w)(\w).*$/$1$2$3/ # åŒæ‹¼+2ä½è¾…åŠ©ç çš„æƒ…å†µï¼Œabbrevç±»å‹ä¸å¯ä»¥æ•´å¥å†…è¾“å…¥2ä½è¾…åŠ©ç ï¼Œå¿…é¡»åŠ /
    - derive|^(.+);(\w)(\w).*$|$1$2$3/| # æ•´å¥æ¨¡å¼ä¸‹ï¼Œè¾“å…¥syff/ å‡ºå•å­— å¢å¼ºå•å­—æ€§èƒ½
#åˆ†å·åé¢ç¬¬äºŒç»„è¾…åŠ©ç 
    - derive/^(.+);.*?,(\w\w).*$/$1$2/
    - derive/^(.+);.*?,(\w)(\w).*$/$1[$2/
    - abbrev/^(.+);.*?,(\w)(\w).*$/$1$2$3/
    - derive|^(.+);.*?,(\w)(\w).*$|$1$2$3/|
#åˆ†å·åé¢ç¬¬ä¸‰ç»„è¾…åŠ©ç 
    - derive/^(.+);.*?,.*?,(\w\w).*$/$1$2/
    - derive/^(.+);.*?,.*?,(\w)(\w).*$/$1[$2/
    - abbrev/^(.+);.*?,.*?,(\w)(\w).*$/$1$2$3/
    - derive|^(.+);.*?,.*?,(\w)(\w).*$|$1$2$3/|
#åˆ†å·åé¢ç¬¬å››ç»„è¾…åŠ©ç 
    - derive/^(.+);.*?,.*?,.*?,(\w)(\w).*$/$1$2/ 
    - derive/^(.+);.*?,.*?,.*?,(\w)(\w).*$/$1[$2/
    - abbrev/^(.+);.*?,.*?,.*?,(\w)(\w).*$/$1$2$3/
    - derive|^(.+);.*?,.*?,.*?,(\w)(\w).*$|$1$2$3/| 
#ç‰¹æ®Šä¼˜åŒ–ï¼šéƒ¨åˆ†éŸ³èŠ‚å­—æå°‘ï¼Œå‡ ä¹ä¸å‚ä¸æ„è¯ï¼Œåˆ™æå‡å¯¹åº”å››ç å­—çš„ä¼˜å…ˆçº§ï¼Œä»…å¯¹è‡ªç„¶ç åŒæ‹¼æœ‰æ•ˆï¼Œå…¶ä»–åŒæ‹¼æ–¹æ¡ˆéœ€ä½œå¯¹åº”ä¿®æ”¹ï¼‰
    - derive/^(.+);(bd|dw|df|dw|yl|rw|fs|iw)$/$1$2/
    - derive/^(.+);.*?,(bd|dw|df|dw|yl|rw|fs|iw)$/$1$2/
    - derive/^(.+);.*?,.*?,(bd|dw|df|dw|yl|rw|fs|iw)$/$1$2/
    - derive/^(.+);.*?,.*?,.*?,(bd|dw|df|dw|yl|rw|fs|iw)$/$1$2/
# åˆ é™¤åŸå§‹ç¼–ç åŠ é€Ÿæ£€ç´¢
    - erase/^(.+);(.+)$/             
## é£é”® å¯é€‰æ‹©æ€§å¼€å¯
    # - derive/^([yh])j/$1q/
    # - derive/^qx/qw/
    # - derive/^jn/jv/
    # - derive/^mn/mv/
    # - derive/^jm/jz/
    # - derive/^([y])h/$1g/
    # - derive/^([rgv])f/$1m/
    # - derive/^([rgv])c/$1n/

__include: octagram/enable_for_sentence   #å¯ç”¨è¯­è¨€æ¨¡å‹
#å¯ç”¨è¯­è¨€æ¨¡å‹
#è¯­è¨€æ¨¡å‹
octagram:
  disable:
    __patch:
      grammar: {}
  enable_for_sentence:
    __patch:
      grammar:
        language: zh-hans-t-essay-bgw   
        collocation_max_length: 4
        collocation_min_length: 2
        non_collocation_penalty: -20
        collocation_penalty: -8
        weak_collocation_penalty: -15
        rear_penalty: -18
